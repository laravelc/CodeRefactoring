# CodeRefactoring

Рефакторинг и исправление этого кода:
![Картинка][image1]

[image1]: task.png

## Тестирование приложения осуществляется командой в главной папке проекта
```shell
php test.php
```
Подключение к БД необязательно поскольку используется `Mock-объекты`

## Реализация
Реализация напоминает на фреймворк. Имеется файл `bootstrap` для загрузки всех классов. Имеется весь набор контрактов-
интерфейсов.
Назначения интерфейсов:
- `IController` - контроллер для внешних запросов. 
- `IDataManager` - Менеджер данных
- `IFilter` - Фильтр данных при запросе на `IHandler`
- `IHandler` - Обработчик
- `IModel` - Модель
- `IProvider` - Провайдер
- `IRenderable` - Для рендеринга данных модели
- `ITest` - Для тестов

## Паттерны
- `Внедрение зависимостей` - Использованы интерфейсы. К примеру, `CustomerHandler` использует конструктор,
`public function __construct(IProvider $provider = null)`, куда передается провайдер для получения данных, либо 
провйдер с `Mock-объектом`.
- `Шаблонный метод` - использованы классы и интерфейсы, имеется наследование
- `Визитер` - передаются объекты в классы и используются методы визитера
- `Спецификация` - есть папка с контрактами-интерфейсами
- `Null-объект`
```injectablephp
public function __construct(IProvider $provider = null)
  {
  $this->provider = $provider == null ? new Provider() : $provider;
  }
```
- `Команды`
Вообще много в проекте напоминает на командное использование с единственным вызывающим методом `handle`. В тестах есть метод 
`run`, в контроллере `run`. `Handler` реализован как команды с одним методом `handle`. Связано это с упрощением вызовов и
несложности проекта
- `Мост` - слои абстракци разделены и имеется передача в конструкторе